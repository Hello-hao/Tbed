<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="keywords" th:content="${config.getWebkeywords()}" />
        <meta name="description" th:content="${config.getWebms()}" />
        <meta name="author" content="Hellohao" />
        <title th:text="${config.getWebname()}"></title>
        <link rel="shortcut icon" th:href="${config.getWebfavicons()}" type="image/x-icon"/>
        <link rel="icon" type="image/ico" th:href="${config.getWebfavicons()}" />
        <link rel="stylesheet" th:href="@{/css/intro.css}" />
        <link th:href="@{/webuploade/css/webuploader.css}" media="all" rel="stylesheet" type="text/css"/>
        <link th:href="@{/webuploade/css/style.css}" media="all" rel="stylesheet" type="text/css"/>
        <link th:href="@{/webuploade/css/component.css}" media="all" rel="stylesheet" type="text/css"/>
        <link th:href="@{/static/css/login-register.css}" media="all" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" th:href="@{/css/verify.css}" />
        <link rel="stylesheet" th:href="@{/css/Mini/reset.css}" />
        <link rel="stylesheet" th:href="@{/css/Mini/style.css}" />
        <link rel="stylesheet" th:href="@{/static/css/animate.min.css}" />
        <link rel="stylesheet" th:href="@{/layui/layui/css/layui.css}" />
        <link rel='stylesheet' th:href="@{css/urllist/all.min.css}" />
        <link rel="stylesheet" th:href="@{/css/urllist/style.css}" />
        <link rel="stylesheet" th:href="@{/css/default.css}" id="theme-color" />
        <style>
            #uploader .placeholder {
                /* border: 3px dashed #4ebd87; */
                min-height: 238px;
                padding-top: 158px;
                text-align: center;
                background: url(/webuploade/images/image2.png) center 93px no-repeat;
                color: #555555;
                font-size: 18px;
                position: relative;
            }
            #uploader .placeholder .webuploader-pick {
                /*background: #57a3f3;*/
                background: linear-gradient(to right,#2775ff,#7202bb);
                color: #FFFFFF;
            }
            #container {border: 0px solid #FFF;border-radius: 0px;font-size: 12px;margin-top: 10px;}
            .nav-item:hover{position: relative;}
            #asd:hover{position: relative;}
            .layui-tab-brief > .layui-tab-title .layui-this {color: #ff0000;}
            .feather-grid{color: #F5F5F6;}
            #uploader .statusBar .btns .uploadBtn {background: linear-gradient(to right,#2775ff,#7202bb);}
            #uploader .statusBar .btns .uploadBtn:hover {background: linear-gradient(to right,#2775ff,#7202bb);}
            .fontstyle{word-wrap: break-word;word-break: break-all;overflow: hidden;margin-left: 10px;padding-top: 20px;}
            .el-backtop {
                position: fixed;
                background-color: #fff;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                color: #409eff;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 20px;
                /*box-shadow: 0 0 6px rgba(0,0,0,.12);*/
                cursor: pointer;
                z-index: 5;
                border: 1px solid #f0f0f0;
                box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.35);
            }
            .iconimg{
                display: block;
                float: left;
                position: absolute;
                top: 5px;
                left: 10px;
                background: #505050;
                width: 100px;
                height: 100px;
                border-radius: 5px;
                border: 1px solid #ebeef5;
                box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);
                background-repeat: no-repeat;
                background-position: center center;
                background-size: cover;
                background-size:auto 100%;
                -moz-background-size:100% 100%;
            }
            .close {
                font-size: 1.5rem;
            }
            #jyupdate{
                color: #2a70fc;font-size: 0.9em;cursor:pointer;font-weight: bold;
            }
            #setday{
                font-weight: bold;
                cursor: pointer;
            }
            .mt-5, .my-5 {
                margin-top: 0rem !important;
            }
            .pb-5, .py-5 {
                padding-bottom: 1rem !important;
            }
            .pt-5, .py-5 {
                padding-top: 1rem !important;
            }
        </style>
    </head>
    <body>
        <section class="sticky-top sticky-navigation" style=" background: linear-gradient(to right,#2775ff,#7202bb); ">
            <div class="container">
                <nav class="navbar navbar-expand-md navbar-light" style="color: #F5F5F6;">
                    <a class="navbar-brand heading-black animated fipInX " href="/" style="color: #F5F5F6;" th:text="${config.getWebname()}">
                        Hellohaoå›¾åºŠ
                    </a>
                    <button class="navbar-toggler navbar-toggler-right border-0" type="button" data-toggle="collapse" 
                            data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span data-feather="grid"></span>
                    </button>
                    <div class="collapse navbar-collapse animated fipInX " id="navbarCollapse">
                        <ul class="navbar-nav ml-auto" id="usersrc" >
                            <li class="nav-item" >
                                <a style="color: #F5F5F6;" href="javascript:;" class="nav-link page-scroll d-flex flex-row align-items-center md-trigger" onclick="tologin()" >
                                    <em data-feather="user" width="18" height="18" class="mr-2"></em>
                                    ç™»å½•
                                </a>
                            </li>
                            <li class="nav-item" id="asd">
                                <a style="color: #F5F5F6;" href="javascript:;" class="nav-link page-scroll d-flex flex-row align-items-center md-trigger" onclick="toregister()">
                                    <em data-feather="user-plus" width="18" height="18" class="mr-2"></em>
                                    æ³¨å†Œ
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </section>

        <section class="bg-hero py-7">
            <div class="container">

                <div class="alert alert-info" role="alert" id="explaindiv" style="display: none;">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <strong>ğŸ”Š</strong> <span id="explain">Better check yourself, you're not looking too good.</span>
                </div>
                    <form enctype="multipart/form-data">
                        <!--å›¾ç‰‡ä¸Šä¼ æ¨¡æ¿-->
                        <div id="wrapper">
                            <div id="container" class="animated bounce" style="border-radius: 5px;border: 1px solid #ebeef5;box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);">
                                <!--å¤´éƒ¨ï¼Œç›¸å†Œé€‰æ‹©å’Œæ ¼å¼é€‰æ‹©-->
                                <div id="uploader">
                                    <div class="queueList">
                                        <div id="dndArea" class="placeholder">
                                            <br />
                                            <span class="text">æ‚¨ä¹Ÿå¯ä»¥å°è¯•æ–‡ä»¶æ‹–æ‹½ï¼Œä½¿ç”¨æˆªå±å·¥å…·ï¼Œç„¶åæ¿€æ´»çª—å£åä½¿ç”¨Ctrl+Vç²˜è´´ã€‚<span id="whts" data-toggle="popover" title="Example popover" class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></span>
                                            <br />
                                            <span class="text" id="urlsc" ><a style="color: #2a70fc;font-size: 0.9em;cursor:pointer;font-weight: bold;" onclick="imgsc()">ä½¿ç”¨å›¾ç‰‡URLåœ°å€ä¸Šä¼ </a></span>
                                            <div id="filePicker">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="statusBar" style="display:none;">
                                        <div class="progress">
                                            <span class="text">0%</span>
                                            <span class="percentage"></span>
                                        </div><div class="info"></div>
                                        <div class="btns">
                                            <div id="filePicker2"></div><div class="uploadBtn">å¼€å§‹ä¸Šä¼ </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
            </div>
        </section>

        <section class="bg-hero py-7" id="updateurl" style="display: none;">
            <div class="text-center mb-60 position-relative">
                <h5 class="font__family-montserrat font__weight-light text-uppercase font__size-18 text-blue brk-library-rendered" data-brk-library="component__title">Picture link address</h5>
                <hr class="divider wow zoomIn brk-library-rendered" data-brk-library="component__title" style="visibility: visible; animation-name: zoomIn;">
            </div>
            <div class="container">
                <div class="panel__wrapper-icon mb-100 brk-library-rendered" data-brk-library="component__panel">
                    <div class="panel__head all-light">
                        <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief" style="margin: 0 auto;">
                            <ul class="layui-tab-title" id="urllist">
                                <li class="imgurltype" onclick="imgurltype(2)" style="float:right;display: inline-block;">Markdown</li>
                                <li class="imgurltype" onclick="imgurltype(3)" style="float:right;display: inline-block;">HTML</li>
                                <li class="imgurltype" onclick="imgurltype(4)" style="float:right;display: inline-block;">BBCode</li>
                                <li class="layui-this imgurltype" id="urls" onclick="imgurltype(1)" style="float:right;display: inline-block;">U R L</li>
                            </ul>
                        </div>
                    </div>
                    <ul class="panel__list" id="imgurls">
                    </ul>
                    <div class="el-backtop" style="right: 50px; bottom: 150px;" onclick="anniu()"><i class="layui-icon layui-icon-picture" style="color: #666666;"></i>  </div>
                </div>
            </div>
        </section>
        <br /><br />
        <footer class="py-5 bg-light" style="position: fixed;bottom: 0px;width: 100%;">
            <div class="container">
                    <div class="row mt-5">
                    <div class="col-12 text-muted text-center small-xl" th:utext="${config.getLinks()}" >
                        &copy; 2019 Hellohao - All Rights Reserved - Collect from <a href="http://www.Hellohao.cn/" target="_blank" title="Hellohao">Hellohaoåšå®¢</a>
                    </div>
                </div>
            </div>
        </footer>
        <div class="scroll-top">
            <i class="fa fa-angle-up" aria-hidden="true"></i>
        </div>
        <input type="hidden" th:value="${suffix}" id="suffix" />
        <input type="hidden" th:value="${config.getExplain()}" id="exp" />
            <div class="login" style="z-index: 9999;display: none;position: fixed;">
            </div>
            <div class="sk-rotating-plane"></div>
            <div class="modal-backdrop fade show" id="zhezhao" style="display: none;"></div>
        <script th:src="@{/static/js/jquery-3.4.1.min.js}" type="text/javascript"></script>
<!--        <script type="text/javascript" th:src="@{/static/js/bootstrap.min.js}"></script>-->
        <script th:src="@{/js/bootstrap.jj.js}"></script>
        <script th:src="@{/static/js/bootbox.min.js}"></script>
        <script th:src="@{/static/js/clipboard.min.js}"></script>
        <script th:src="@{/layui/layui/layui.js}"></script>
        <script th:src="@{/webuploade/js/webuploader.js}"></script>
        <script th:src="@{/static/js/login-register.js}"></script>
        <script th:src="@{/webuploade/js/upload.js}" ></script>
        <script th:src="@{/webuploade/js/classie.js}"></script>
        <script th:src="@{/static/js/sweetalert2.min.js}"></script>
        <script th:src="@{/layui/layui/layui.js}"></script>
        <script type="text/javascript" th:src="@{/js/feather.min.js}"></script>
        <script th:src="@{/js/verify.js}"></script>
        <script th:src="@{/js/js.cookie.min.js}"></script>
        <script th:src="@{/js/base64.min.js}"></script>
        <script th:src="@{/static/js/clipboard.min.js}"></script>
        <script th:src="@{/js/jquery.qrcode.min.js}"></script>

    <script>

        $("#myModal modal-backdrop").addClass('show')
        var isday = 0;
        var verification = false;
        var zcverification = false;
        var logotmp = 0;
        var zctmp = 0;
        var arr_imgurl = "";
        var arr_url = "";
        var arr_markdown = "";
        var arr_html = "";
        var arr_ddcode = "";
        var urltypes = 1;//1 url 2 md 3 aæ ‡ç­¾ 4 è®ºå›æ ¼å¼
        var VisitorUpload = [[${VisitorUpload}]];
        var filesize = [[${filesize}]];
        var imgcount = [[${imgcount}]];
        var theme = [[${config.getTheme()}]];
        var exp = $("#exp").val();
        var suffix= $('#suffix').val();
        var qq ='hellohao-code-yz';
        var layer;
        layui.use('layer', function(){
            layer = layui.layer;
            //url(../images/img2.png) center 93px no-repeat
            feather.replace();
        });
        $(function () {
            $.ajax({
                type: "POST",
                url: "/islogin",
                dataType: "json",
                success: function (data) {
                    if(data.lgoinret==1){
                        bodys();
                    }
                }
            });
        if(exp!="" && exp!=null && typeof(exp) != undefined){
            $("#explaindiv").show();
            $("#explain").text(exp);
        }else{
            $("#explaindiv").hide();
        }

        });

        function tologin() {

            var html = ' <p style="display: block;float: right;margin-top: 5px; cursor:pointer;margin-right: 13px;font-size: 24px;" onclick="Closelogin()">Ã—</p>\n' +
                '                <div class="login-top">\n' +
                '                    ç™»å½•\n' +
                '                </div>\n' +
                '                <div class="login-center clearfix">\n' +
                //'                    <div class="login-center-img"><img th:src="@{/img/name.png}"/></div>\n' +
                '                    <div class="login-center-input">\n' +
                '                        <input type="text" id="loginemail" name="" value="" placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'è¯·è¾“å…¥æ‚¨çš„é‚®ç®±\'"/>\n' +
                '                        <div class="login-center-input-text">é‚®ç®±</div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="login-center clearfix">\n' +
                //'                    <div class="login-center-img"><img th:src="@{/img/password.png}"/></div>\n' +
                '                    <div class="login-center-input">\n' +
                '                        <input type="password" id="loginpassword" name=""value="" placeholder="è¯·è¾“å…¥æ‚¨çš„å¯†ç " onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'è¯·è¾“å…¥æ‚¨çš„å¯†ç \'"/>\n' +
                '                        <div class="login-center-input-text">å¯†ç </div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="login-center clearfix">\n' +
                '                    <div style="width: 280px;height: 50px;">\n' +
                '                        <div id="mpanel1" ></div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="login-button" onclick="loginAjax()">\n' +
                '                    ç™»é™†\n' +
                '                </div>';


            $('.login').html(html);
            $('#zhezhao').show();
            $('.login').show();
            $('.login').addClass('animated  slideInDown');
            $('body').css({
                "overflow-x":"hidden",
                "overflow-y":"hidden"
            });
            initSlideVerify(1);
        }

        function toregister() {
            var html = '<p style="display: block;float: right;margin-top: 5px; cursor:pointer;margin-right: 13px;font-size: 24px;" onclick="Closelogin()">Ã—</p>\n' +
                '            <div class="login-top" style="margin-top: 50px;">\n' +
                '                æ³¨å†Œ\n' +
                '            </div>\n' +
                '            <p align="center" style="color: #db5860;margin-top: -40px;" id="zcts"></p>\n' +
                '            <div class="login-center clearfix">\n' +
                //'                <div class="login-center-img"><img th:src="@{/img/name.png}"/></div>\n' +
                '                <div class="login-center-input">\n' +
                '                    <input type="text" id="registerusername" name="username" value="" placeholder="ç”¨æˆ·å(æ•°å­—/å­—æ¯ä¸å¾—è¶…è¿‡10ä½)" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'ç”¨æˆ·å(æ•°å­—/å­—æ¯ä¸å¾—è¶…è¿‡10ä½)\'"/>\n' +
                '                    <div class="login-center-input-text">ç”¨æˆ·å</div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '            <div class="login-center clearfix">\n' +
                //'                <div class="login-center-img"><img th:src="@{/img/name.png}"/></div>\n' +
                '                <div class="login-center-input">\n' +
                '                    <input type="text" id="registeremail" name="email" value="" placeholder="å¾…éªŒè¯çš„é‚®ç®±" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'å¾…éªŒè¯çš„é‚®ç®±\'"/>\n' +
                '                    <div class="login-center-input-text">é‚®ç®±</div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '            <div class="login-center clearfix">\n' +
                //'                <div class="login-center-img"><img th:src="@{/img/password.png}"/></div>\n' +
                '                <div class="login-center-input">\n' +
                '                    <input type="password" id="registerpassword" name="password" value="" placeholder="è¯·è¾“å…¥æ‚¨çš„å¯†ç " onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'è¯·è¾“å…¥æ‚¨çš„å¯†ç \'"/>\n' +
                '                    <div class="login-center-input-text">å¯†ç </div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '            <div class="login-center clearfix">\n' +
                //'                <div class="login-center-img"><img th:src="@{/img/password.png}"/></div>\n' +
                '                <div class="login-center-input">\n' +
                '                    <input type="password" id="registerpassword_confirmation" name="password" value="" placeholder="è¯·è¾“å…¥æ‚¨çš„å¯†ç " onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'è¯·è¾“å…¥æ‚¨çš„å¯†ç \'"/>\n' +
                '                    <div class="login-center-input-text">å¯†ç </div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '            <div class="login-center clearfix">\n' +
                '                <div style="width: 280px;height: 50px;">\n' +
                '                    <div id="mpanel2" ></div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '            <div class="login-button" onclick="ismail();">\n' +
                '                æ³¨å†Œ\n' +
                '            </div>';

            $('.login').html(html);
            $('#zhezhao').show();
            $('.login').show();
            $('.login').addClass('animated  slideInDown');
            $('body').css({
                "overflow-x":"hidden",
                "overflow-y":"hidden"
            });
            initSlideVerify(2);
        }

        function Closelogin() {
            $('#zhezhao').hide();
            $('.login').hide();
            $('.registers').hide();
            $('body').css({
                "overflow-x":"auto",
                "overflow-y":"auto"
            });
        }

        function imgsc() {
            var str = 'è¾“å…¥å›¾ç‰‡URLåœ°å€ï¼š';
            if(isday>0){
                str = 'è¾“å…¥å›¾ç‰‡URLåœ°å€ï¼š('+isday+'å¤©åå°†ä¼šè‡ªåŠ¨é”€æ¯)';
            }
            swal(str, {
                content: "input",
            })
                .then((value) => {
                    var result =value;
                    if(result!=null && result!="" ){
                        urlimg(result);
                    }
                });
        }
        function urlimg(result) {
            if(result) {
                var rx=/^https?:\/\//i;
                if(rx.test(result)==true){
                    var msgid = layer.msg('ä¸Šä¼ ä¸­..', {
                        icon: 16
                        ,shade: 0.01
                    });
                    qq = GetDateStr(new Date());
                    $('#loadingModal').modal({backdrop: 'static', keyboard: false,upurlk:qq});
                    $.ajax({
                        type: "POST",
                        url: "/upurlimg",
                        dataType: "json",
                        data: {imgurl: result,setday:isday,upurlk:qq},
                        success: function (data) {
                            layer.close(msgid);
                            for(var i=0;i<data.length;i++){
                                if(data[i]==-1){
                                    $('#loadingModal').modal('hide');
                                    swal('ä¸Šä¼ å¤±è´¥', 'æœªé…ç½®å­˜å‚¨æºï¼Œè¯·å…ˆåå°é…ç½®å­˜å‚¨æº');
                                }
                                else if(data[i]==-2){
                                    $('#loadingModal').modal('hide');
                                    swal('ä¸Šä¼ å¤±è´¥', 'å›¾ç‰‡å¤ªå¤§æˆ–ä¸å­˜åœ¨');
                                }
                                else if(data[i]==-3){
                                    $('#loadingModal').modal('hide');
                                    swal('ä¸Šä¼ å¤±è´¥', 'æ–‡ä»¶ç±»å‹ä¸ç¬¦åˆè¦æ±‚');
                                }
                                else if(data[i]==-4){
                                    $('#loadingModal').modal('hide');
                                    swal('ä¸Šä¼ å¤±è´¥', 'è¯¥æ–‡ä»¶ä¸æ”¯æŒä¸Šä¼ ');
                                }else if(data[i]==-5){
                                    $('#loadingModal').modal('hide');
                                    swal('ä¸Šä¼ å¤±è´¥ï¼Œå¯ç”¨ç©ºé—´ä¸è¶³');
                                }else if(data[i]==403){
                                    $('#loadingModal').modal('hide');
                                    swal('éæ³•è°ƒç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢åé‡è¯•');
                                }else if(data[i]==911){
                                    $('#loadingModal').modal('hide');
                                    swal('ä½ ç›®å‰ä¸èƒ½ä¸Šä¼ å›¾ç‰‡,è¯·è”ç³»ç®¡ç†å‘˜');
                                }else{
                                    $('#loadingModal').modal('hide');
                                    swal('ä¸Šä¼ æˆåŠŸ', 'è¯¥å›¾ç‰‡é“¾æ¥å·²æˆåŠŸä¸Šä¼ ');
                                    $("#address").css('display', 'block');
                                    $("#updateurl").show();
                                    arr_url += data[i] + '\r\n';
                                    arr_imgurl += '<li onclick="copyimgurl(this)" class="copyimgurl"><span class="line"></span><i class="icon fab fa-gg"></i><p class="fontstyle" >'+data[i]+ '</p></li>';
                                    arr_markdown += '<li onclick="copyimgurl(this)" class="copyimgurl "><span class="line"></span><i class="icon fab fa-gg"></i><p class="fontstyle">'+'![image](data[i])</p></li>';
                                    arr_html += '<li onclick="copyimgurl(this)" class="copyimgurl "><span class="line"></span><i class="icon fab fa-gg"></i><p class="fontstyle">'+'&lt;img src="' + data[i] + '" alt="image" /&gt; </p></li>';
                                    arr_ddcode +='<li onclick="copyimgurl(this)" class="copyimgurl"><span class="line"></span><i class="icon fab fa-gg"></i><p class="fontstyle">'+'[img]'+data[i]+'[/img]</p></li>';
                                }
                                if(urltypes==1){
                                    $("#imgurls").html(arr_imgurl);
                                }else if(urltypes==2){
                                    $("#imgurls").html(arr_markdown);
                                }else if(urltypes==3){
                                    $("#imgurls").html(arr_html);
                                }else{
                                    $("#imgurls").html(arr_ddcode);
                                }
                            }
                        }
                    });
                }else{layer.close(msgid);Popups('ç½‘å€æ ¼å¼é”™è¯¯','ç½‘å€å¿…é¡»ä»¥http(s)://å¼€å¤´ã€‚','error');}
            }
        }

        function setday() {
            swal("è¾“å…¥å›¾ç‰‡æœŸé™ï¼ˆå¤©ï¼‰,åˆ°æœŸè‡ªåŠ¨é”€æ¯å›¾ç‰‡,æœ€é«˜365å¤©ï¼š\n(è¾“å…¥0ä¸ºæ°¸ä¹…ä¿å­˜)", {
                content: "input",
                html: true,
            })
                .then((value) => {
                    var result =value;
                    var reg=/^[0-9]\d*$/;
                    if(result!=null && result!="" ){
                        if(reg.test(result)){
                            if(result<=365){
                                isday = result;
                                // åˆå§‹åŒ–ä»¥åæ·»åŠ 
                                uploader.options.formData.setday = isday;
                            }else{
                                swal('è¾“å…¥å¤©æ•°æœ‰è¯¯ï¼Œæœ€å¤§ä¸å¯è¶…è¿‡365å¤©');
                            }
                        }else{
                            swal('è¾“å…¥æ ¼å¼ä¸æ­£ç¡®ï¼Œåªå¯è¾“å…¥0-9ä¹‹é—´æ­£æ•´æ•°');
                        }
                    }
                    if(isday>0){
                        $('#setday').text(isday+'å¤©åé”€æ¯');
                    }else{
                        $('#setday').text('å›¾ç‰‡æœŸé™');
                    }
                });
        }
        function keyLogin(){
            if (event.keyCode==13)
                document.getElementById("dl").click();
        }

        function loginAjax() {
            var loginemail = $("#loginemail").val();
            var loginpassword = $("#loginpassword").val();
            if(verification){
                //éªŒè¯æˆåŠŸ
                $.ajax({
                    type: "POST",
                    url: "/user/login",
                    data: {email: loginemail, password: loginpassword,logotmp:logotmp},
                    dataType: "json",
                    success: function (data) {
                        $('#loginModal').modal('hide');
                        if (data == 1) {
                            layer.msg('ç™»å½•æˆåŠŸ', {icon: 1});
                            setTimeout(function () {
                                window.location.reload();
                            }, 1000);
                        } else {
                            if (data == -1) {
                                //$('#dlts').text('æ‚¨çš„è´¦å·æ˜¯æœªæ¿€æ´»çŠ¶æ€ï¼Œæ— æ³•ç™»é™†ã€‚');
                                layer.msg('æ­¤è´¦å·æ˜¯æœªæ¿€æ´»çŠ¶æ€ï¼Œæ— æ³•ç™»é™†', {icon: 4});
                                again(1);
                            } else if(data==-2){
                                //$('#dlts').text('æ‚¨çš„è´¦å·å·²è¢«å†»ç»“ã€‚');
                                layer.msg('æ‚¨çš„è´¦å·å·²è¢«å†»ç»“', {icon: 2});
                                again(1);
                            }else if(data==-3){
                                //$('#dlts').text('éæ³•ç™»å½•ï¼Œè¯·åˆ·æ–°é¡µé¢é‡æ–°å°è¯•ã€‚');
                                layer.msg('éæ³•ç™»å½•ï¼Œè¯·åˆ·æ–°é¡µé¢é‡æ–°å°è¯•', {icon: 2});
                                again(1);
                            }
                            else {
                                //$('#dlts').text('ç™»å½•å¤±è´¥ï¼Œä½ çš„é‚®ç®±æˆ–å¯†ç ä¸æ­£ç¡®ï¼Œè¯·é‡è¯•ã€‚');
                                layer.msg('ç™»å½•å¤±è´¥ï¼Œé‚®ç®±æˆ–è€…å¯†ç ä¸æ­£ç¡®', {icon: 2});
                                again(1);
                            }
                            setTimeout(function () {
                                //window.location.reload();
                            }, 2000);
                        }
                    }
                });
            }else{
                //$('#dlts').text('è¯·æ»‘åŠ¨éªŒè¯ç è¿›è¡ŒéªŒè¯ï¼Œæ‰å¯ç™»å½•ã€‚');
                layer.msg('è¯·æ»‘åŠ¨éªŒè¯ç è¿›è¡ŒéªŒè¯ï¼Œæ‰å¯ç™»å½•ã€‚', {icon: 2});
            }
        }

        function initSlideVerify(v) {
            if(v==1){
                $('#mpanel1').slideVerify({
                    type : 1,		//ç±»å‹
                    vOffset : 5,	//è¯¯å·®é‡ï¼Œæ ¹æ®éœ€æ±‚è‡ªè¡Œè°ƒæ•´
                    barSize : {
                        width : '100%',
                        height : '40px',
                    },
                    ready : function() {
                    },
                    success : function() {
                        verification = true;
                        varÂ myDateÂ =Â newÂ Date();
                        var tmp = Number(myDate.getMinutes()+''+myDate.getSeconds());
                        logotmp = (tmp-500+1+2+3-4);
                        $.ajax({
                            type: "POST",
                            url: "/user/verification",
                            data:{tmp:logotmp,type:1},
                            dataType: "json",
                            success: function (data) {}
                        });
                    },
                    error : function() {}
                });
            }else{
                $('#mpanel2').slideVerify({
                    type : 1,		//ç±»å‹
                    vOffset : 5,	//è¯¯å·®é‡ï¼Œæ ¹æ®éœ€æ±‚è‡ªè¡Œè°ƒæ•´
                    barSize : {
                        width : '100%',
                        height : '40px',
                    },
                    ready : function() {
                    },
                    success : function() {
                        zcverification = true;
                        varÂ myDateÂ =Â newÂ Date();
                        var tmp = Number(myDate.getMinutes()+''+myDate.getSeconds());
                        zctmp = (tmp-500+1+2+3-4);
                        $.ajax({
                            type: "POST",
                            url: "/user/verification",
                            data:{tmp:zctmp,type:2},
                            dataType: "json",
                            success: function (data) {}
                        });
                    },
                    error : function() {}
                });
            }
        }


        function again(v) {
            if(v==1){
                logotmp=0;
                verification = false;
                $('#mpanel1').html('');
                $('#mpanel1').slideVerify({
                    type : 1,		//ç±»å‹
                    vOffset : 5,	//è¯¯å·®é‡ï¼Œæ ¹æ®éœ€æ±‚è‡ªè¡Œè°ƒæ•´
                    barSize : {
                        width : '100%',
                        height : '40px',
                    },
                    ready : function() {
                    },
                    success : function() {
                        verification = true;
                        varÂ myDateÂ =Â newÂ Date();
                        var tmp = Number(myDate.getMinutes()+''+myDate.getSeconds());
                        logotmp = (tmp-500+1+2+3-4);
                        $.ajax({
                            type: "POST",
                            url: "/user/verification",
                            data:{tmp:logotmp,type:1},
                            dataType: "json",
                            success: function (data) {}
                        });
                    },
                    error : function() {}
                });
            }
            if(v==2){
                zctmp=0;
                zcverification = false;
                $('#mpanel2').html('');
                $('#mpanel2').slideVerify({
                    type : 1,		//ç±»å‹
                    vOffset : 5,	//è¯¯å·®é‡ï¼Œæ ¹æ®éœ€æ±‚è‡ªè¡Œè°ƒæ•´
                    barSize : {
                        width : '100%',
                        height : '40px',
                    },
                    ready : function() {
                    },
                    success : function() {
                        verification = true;
                        varÂ myDateÂ =Â newÂ Date();
                        var tmp = Number(myDate.getMinutes()+''+myDate.getSeconds());
                        zctmp = (tmp-500+1+2+3-4);
                        $.ajax({
                            type: "POST",
                            url: "/user/verification",
                            data:{tmp:zctmp,type:2},
                            dataType: "json",
                            success: function (data) {}
                        });
                    },
                    error : function() {}
                });
            }
        }

        function bodys() {
            var h = '<li class="nav-item"><a style="color: #f5f5f5;cursor: pointer;" target="_blank" href="/admin/goadmin" class="nav-link page-scroll d-flex flex-row align-items-center md-trigger"> <em data-feather="tool" width="18" height="18" class="mr-2"></em>æ§åˆ¶å°</a></li>';
            var h1 = '<li class="nav-item"><a style="color: #f5f5f5;cursor: pointer;" target="_blank" onclick="exit()" class="nav-link page-scroll d-flex flex-row align-items-center md-trigger"> <em data-feather="x-square" width="18" height="18" class="mr-2"></em>é€€å‡º</a></li>';
            $("#usersrc").html(h + h1 );
            feather.replace();
        }

        function exit() {
            $.ajax({
                type: "POST",
                url: "/user/exit.do",
                dataType: "json",
                success: function (data) {
                    $.cookie('name_hellohaobycookie', null);
                    $.cookie('pass_hellohaobycookie', null);
                    layer.msg('è´¦å·å·²é€€å‡º', {icon: 1});
                    window.location.reload();
                }
            });
        }

        function zhuce(mail, registerusername, registerpassword) {
            if(zcverification){
                //éªŒè¯æˆåŠŸ
                $.ajax({
                    type: "POST",
                    url: "/user/register",
                    data: {email: mail, username: registerusername, password: registerpassword,zctmp:zctmp},
                    dataType: "json",
                    success: function (data) {
                        if (data.ret > 0) {
                            $("#zctishi").text('æ³¨å†ŒæˆåŠŸ');
                            if (data.zctype == 1) {
                                layer.alert('æ³¨å†ŒæˆåŠŸï¼Œè¯·å‰å¾€é‚®ç®±æ¿€æ´»ä½ çš„è´¦å·ï¼Œæ³¨æ„ï¼æ¿€æ´»é‚®ä»¶å¦‚æœè¿Ÿè¿Ÿæœªæ”¶åˆ°ï¼Œæœ‰å¯èƒ½åœ¨æ‚¨çš„ã€åƒåœ¾ç®±ã€‘ä¸­ã€‚', {
                                    skin: 'layui-layer-molv'
                                    ,closeBtn: 0
                                    ,anim: 1
                                    ,btn: ['ç¡®å®š']
                                    ,icon: 1
                                    ,yes:function(){
                                        window.location.reload();
                                    }
                                });
                            } else {
                                layer.alert('æ³¨å†ŒæˆåŠŸï¼Œå¿«å»ç™»å½•ä½“éªŒå§ã€‚', {
                                    skin: 'layui-layer-molv'
                                    ,closeBtn: 0
                                    ,anim: 1
                                    ,btn: ['ç¡®å®š']
                                    ,icon: 1
                                    ,yes:function(){
                                        window.location.reload();
                                    }
                                });
                            }
                        } else {
                            if (data.ret == -2) {
                                layer.alert('æ³¨å†Œå¤±è´¥ï¼Œç”¨æˆ·åæˆ–é‚®ç®±é‡å¤ä¸”ç”¨æˆ·ååªèƒ½ä¸ºå­—æ¯æ•°å­—ï¼Œè¯·é‡è¯•ã€‚', {
                                    skin: 'layui-layer-molv'
                                    ,closeBtn: 0
                                    ,anim: 1
                                    ,btn: ['ç¡®å®š']
                                    ,icon: 2
                                });
                            } else if(data.ret == -3){
                                layer.alert('æœ¬ç«™å…³é—­äº†æ³¨å†ŒåŠŸèƒ½ã€‚', {
                                    skin: 'layui-layer-molv'
                                    ,closeBtn: 0
                                    ,anim: 1
                                    ,btn: ['ç¡®å®š']
                                    ,icon: 2
                                });
                            }else if(data.ret == -4){
                                layer.alert('éæ³•æ³¨å†Œï¼Œè¯·åˆ·æ–°é¡µé¢åé‡æ–°å°è¯•ã€‚', {
                                    skin: 'layui-layer-molv'
                                    ,closeBtn: 0
                                    ,anim: 1
                                    ,btn: ['ç¡®å®š']
                                    ,icon: 2
                                });
                            }else {
                                layer.alert('æ³¨å†Œå¤±è´¥ï¼Œè¯·é‡è¯•ã€‚', {
                                    skin: 'layui-layer-molv'
                                    ,closeBtn: 0
                                    ,anim: 1
                                    ,btn: ['ç¡®å®š']
                                    ,icon: 2
                                });
                            }
                            setTimeout(function () {
                            }, 2000);
                        }
                        again(2);
                        $("#userzc").css('display','block');
                        $("#zctishi").css('display','none');
                    }
                });
            }else{
                shakeModal(6);
                $("#userzc").css('display','block');
                $("#zctishi").css('display','none');
            }
        }

        $('.imgurltype').click(function () {
            $('.imgurltype').removeClass('layui-this');
            $(this).addClass('layui-this');
        });
        function imgurltype(v) {
            if(v==1){
                $("#imgurls").html(arr_imgurl);
            }else if(v==2){
                $("#imgurls").html(arr_markdown);
            }else if(v==3){
                $("#imgurls").html(arr_html);
            }else{
                $("#imgurls").html(arr_ddcode);
            }
        }

        function copyimgurl(t) {
            var data = $(t).children('p').text();
            var copy = new ClipboardJS('.copyimgurl', {
                text: function (trigger) {
                    return  data;
                }
            });
            copy.on('success', function (e) {
                layer.msg('å¤åˆ¶æˆåŠŸ');
                copy.off("success");
            });
            copy.on('error', function (e) {
                layer.msg("å¤åˆ¶å¤±è´¥");
                copy.off("error");
            });
        }

        var win = null;
        function anniu(){
            if(arr_html!=null && arr_html!=""){
                win = layer.open({
                    title:'ç”»å»Šåˆ†äº«',
                    type: 2,
                    area: ['870px', '500px'],
                    fixed: false, //ä¸å›ºå®š
                    maxmin: true,
                    content: '/addalbum'
                });
            }else{
                layer.msg('è¯·å…ˆä¸Šä¼ å›¾ç‰‡åå†ç”Ÿæˆç”»å»Š', {icon: 7});
            }

            if($(window).width()<=880){
                layer.full(win);
            }
        }

        //æµè§ˆå™¨çª—å£å¤§å°å˜åŒ–æ—¶
        $(window).resize(function() {
            if(win!=null){
                var window_width = $(window).width();//è·å–æµè§ˆå™¨çª—å£å®½åº¦
                var window_height = $(window).height();//è·å–æµè§ˆå™¨çª—å£é«˜åº¦
                if(window_width<880){
                    layer.full(win);
                }
            }
        });

        function Popup(url,pass) {
            layer.close(win);
            if(pass==null || pass==''){
                pass = 'æ— '
            }
            var imgbase64 = jrQrcode.getQrBase64(url);
            var body = '<div class="layui-row">\n' +
                '<form class="layui-form" action="">\n' +
                '<div class="layui-form-item" style="width: 80%;margin: 20px auto;">\n' +
                '<div class="layui-input-block" style="margin-left: 0px;">\n' +
                '<input id="albumurl" value="'+url+'" style="color:#999;border-radius:5px;border:1px #999 solid;" readonly="readonly" type="text" name="title" lay-verify="title"  class="layui-input">\n' +
                '</div>\n' +
                '<div class="layui-form-mid "style="width:100%;text-align: center;color: #999999;font-weight: 500;">ç”»å»Šå¯†ç ï¼š<span id="ckey" style="font-weight: 600;">'+pass+'</span><button onclick="copyurl()" style="margin-left: 50px;" type="button" class="copyurl layui-btn layui-btn-sm layui-btn-normal">å¤åˆ¶é“¾æ¥åŠå¯†ç </button></div>\n' +
                '</div>\n' +
                '</form>\n' +
                '</div>\n' +
                '<div class="layui-row">\n' +
                '<div align="center"><img style="width: 150px;" src="'+imgbase64+'" /><p style="font-size: 12px;color: #999999;">å°†äºŒç»´ç åˆ†äº«ç»™å¥½å‹</p><p style="font-size: 12px;color: #999999;">å¯¹æ–¹é€šè¿‡æ‰«ç å³å¯æŸ¥çœ‹ç›¸å†Œ</p></div>\n' +
                '</div>';
            layer.open({
                type: 1,
                title:'ç”»å»Šåˆ†äº«é“¾æ¥',
                area: ['520px', '400px'], //å®½é«˜
                //skin: 'layui-layer-demo', //æ ·å¼ç±»å
                closeBtn: 1, //ä¸æ˜¾ç¤ºå…³é—­æŒ‰é’®
                anim: 2,
                shadeClose: false, //å¼€å¯é®ç½©å…³é—­
                content: body
            });
        }
        function copyurl() {
            var data = "";
            var k = $('#ckey').text();
            var u = $('#albumurl').val();
            if(k=='æ— '){
                data = 'ç”»å»Šé“¾æ¥ï¼š'+u+ ' å¤åˆ¶è¿™æ®µå†…å®¹åç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå³å¯æŸ¥çœ‹ç”»å»Šå“¦';
            }else{
                data = 'ç”»å»Šé“¾æ¥ï¼š'+u+' æå–ç ï¼š'+k+ ' å¤åˆ¶è¿™æ®µå†…å®¹åç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå³å¯æŸ¥çœ‹ç”»å»Šå“¦';
            }
            var copy = new ClipboardJS('.copyimgurl', {
                text: function (trigger) {
                    return  data;
                }
            });
            copy.on('success', function (e) {
                layer.msg('å¤åˆ¶æˆåŠŸ');
                copy.off("success");
            });
            copy.on('error', function (e) {
                layer.msg("å¤åˆ¶å¤±è´¥");
                copy.off("error");
            });
        }
    </script>


    <script th:inline="javascript">
        var baidu = [[${config.getBaidu()}]];
        loadScriptString(baidu);
        function loadScriptString(code) {
            var script = document.createElement("script");
            script.type = "text/javascript";
            try {
                // firefoxã€safariã€chromeå’ŒOpera
                script.appendChild(document.createTextNode(code));
            } catch (ex) {
                // IEæ—©æœŸçš„æµè§ˆå™¨ ,éœ€è¦ä½¿ç”¨scriptçš„textå±æ€§æ¥æŒ‡å®šjavascriptä»£ç ã€‚
                script.text = code;
            }
            document.getElementsByTagName("head")[0].appendChild(script);
        }
    </script>
        <input th:value="${vu}" type="hidden" id="vu" />
    </body>
</html>